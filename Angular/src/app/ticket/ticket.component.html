<h2 class="help-tickets-title">Help Tickets</h2>
<br>
<div *ngFor="let ticket of tickets.allTickets">
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title class="mat-panel-title">
                <strong>{{ticket.ticketName}}</strong>
            </mat-panel-title>
            <mat-panel-description class="mat-panel-description">
                Created By: {{ticket.createdBy}}
            </mat-panel-description>
        </mat-expansion-panel-header>
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><span class="bold">Description:</span> {{ticket.ticketDescription}}</li>
        </ul>
        <br>
        <mat-expansion-panel class="update-expansion-panel">
            <mat-expansion-panel-header class="update-expansion-header">
                <mat-panel-title>
                    Update Ticket Resolution
                </mat-panel-title>
            </mat-expansion-panel-header>
            <form #updateTicketForm="ngForm" (ngSubmit)="updateTicket(updateTicketForm)" class="update-ticket-form">
                <div hidden>
                    <input name="id" id="id" [(ngModel)]="ticket.id" ngModel />
                </div>
                <div hidden>
                    <input name="ticketName" id="ticketName" [(ngModel)]="ticket.ticketName" ngModel />
                </div>
                <div class="form-group" hidden>
                    <label for="createdBy">Created By:</label>
                    <input class="form-control" name="createdBy" id="createdBy" [(ngModel)]="ticket.createdBy"
                        ngModel />
                </div>
                <div class="form-group" hidden>
                    <label for="ticketDescription">Description:</label>
                    <input class="form-control" name="ticketDescription" id="ticketDescription"
                        [(ngModel)]="ticket.ticketDescription" ngModel />
                </div>

                <div class="form-check" hidden>
                    <input class="form-check-input" type="checkbox" id="isResolved" name="isResolved"
                        [(ngModel)]="ticket.isResolved" ngModel value="true">
                    <label for="isResolved" form-check-label>Completed?</label>
                </div>

                <div class="form-group">
                    <label for="completedBy">Completed By:</label>
                    <input class="form-control" name="completedBy" id="completedBy" [(ngModel)]="ticket.completedBy"
                        ngModel />
                </div>
                <div class="form-group">
                    <label for="resolutionNotes">Resolution Notes:</label>
                    <input class="form-control" name="resolutionNotes" id="resolutionNotes"
                        [(ngModel)]="ticket.resolutionNotes" ngModel />
                </div>
                <br>
                <div>
                    <button mat-raised-button color="primary" type="submit" class="mark-as-resolved-button">Update
                        Ticket Resolution</button>
                </div>
            </form>

        </mat-expansion-panel>
        <br>
        <mat-expansion-panel class="update-expansion-panel">
            <mat-expansion-panel-header class="update-expansion-header">
                <mat-panel-title>
                    Add To Favorites
                </mat-panel-title>
            </mat-expansion-panel-header>
            <div>
                <form #bookmarkTicketForm="ngForm" (ngSubmit)="bookmarkTicket(ticket, bookmarkTicketForm)"
                    class="update-ticket-form">
                    <label for="userId">Enter user Id</label>
                    <input class="form-control" name="userId" id="userId" ngModel />
                    <br>
                    <button mat-raised-button color="primary" class="add-to-favorites-button">Add To Favorites</button>
                </form>
            </div>
        </mat-expansion-panel>
        <br>
        <div>
            <button mat-raised-button color="warn" (click)="deleteTicket(ticket.id)">Delete Ticket</button>
        </div>
    </mat-expansion-panel>
</div>